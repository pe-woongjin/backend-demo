{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Demo API Application demo-api blue/green \ubb34\uc815\uc9c0 \ubc30\ud3ec\ub97c \uc704\ud55c \ub370\ubaa8\uc6a9 \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158 \uc785\ub2c8\ub2e4. Blue/Green \ubc30\ud3ec\ub97c \uc704\ud55c \uad6c\uc131 \uc21c\uc11c\ub85c 1. xxx 2. xxx 3. xxx 4. xxx 5. xxx \uc785\ub2c8\ub2e4.","title":"demo-api"},{"location":"#demo-api-application","text":"demo-api blue/green \ubb34\uc815\uc9c0 \ubc30\ud3ec\ub97c \uc704\ud55c \ub370\ubaa8\uc6a9 \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158 \uc785\ub2c8\ub2e4. Blue/Green \ubc30\ud3ec\ub97c \uc704\ud55c \uad6c\uc131 \uc21c\uc11c\ub85c 1. xxx 2. xxx 3. xxx 4. xxx 5. xxx \uc785\ub2c8\ub2e4.","title":"Demo API Application"},{"location":"appendix/","text":"Welcome to MkDocs For full documentation visit mkdocs.org . Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs help - Print this help message. Project layout basedir: ${projectBaseDir}/src/site/mkdocs mkdocs.yml # The configuration file. docs/ chapter1/ # markdown document base directory c1-01.md c1-02.md chapter2/ c2-01.md c2-02.md img/ # Image base directory logo.png index.md # The documentation homepage. license.md # Included sample by another markdown document (about.md). about.md # Other markdown pages mkdocs.yml site_name: Sample Guide nav: - Home: index.md - Chapter1: - Chapter 1-1: chapter1/arch-01.md - Chapter 1-2: chapter1/arch-02.md - \ucc55\ud1302: - \ucc55\ud130 2-1: chapter2/infra-01.md - \ucc55\ud130 2-2: chapter2/infra-02.md - About: appendix.md theme : readthedocs mkdocs guide Please see the mkdocs guide { format=_blank} for further details. mkdocs guide for further details.","title":"\uae30\ud0c0"},{"location":"appendix/#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org .","title":"Welcome to MkDocs"},{"location":"appendix/#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs help - Print this help message.","title":"Commands"},{"location":"appendix/#project-layout","text":"basedir: ${projectBaseDir}/src/site/mkdocs mkdocs.yml # The configuration file. docs/ chapter1/ # markdown document base directory c1-01.md c1-02.md chapter2/ c2-01.md c2-02.md img/ # Image base directory logo.png index.md # The documentation homepage. license.md # Included sample by another markdown document (about.md). about.md # Other markdown pages","title":"Project layout"},{"location":"appendix/#mkdocsyml","text":"site_name: Sample Guide nav: - Home: index.md - Chapter1: - Chapter 1-1: chapter1/arch-01.md - Chapter 1-2: chapter1/arch-02.md - \ucc55\ud1302: - \ucc55\ud130 2-1: chapter2/infra-01.md - \ucc55\ud130 2-2: chapter2/infra-02.md - About: appendix.md theme : readthedocs","title":"mkdocs.yml"},{"location":"appendix/#mkdocs-guide","text":"Please see the mkdocs guide { format=_blank} for further details. mkdocs guide for further details.","title":"mkdocs guide"},{"location":"license/","text":"license is bra bra bra...","title":"License"},{"location":"app/app-01/","text":"Spring-Boot Application Flow Diagram Spring-Boot MVC \ud504\ub808\uc784 \uc6cc\ud06c\ub294 \ub2e4\ub978 \ub9ce\uc740 \uc6f9 MVC \ud504\ub808\uc784 \uc6cc\ud06c\uc640 \ub9c8\ucc2c\uac00\uc9c0\ub85c \uc694\uccad \uc911\uc2ec\uc774\uba70 Dispatcher-Servlet\uc744 \uc911\uc2ec\uc73c\ub85c \uc124\uacc4\ub418\uc5b4 \uc694\uccad\uc744 \ucee8\ud2b8\ub864\ub7ec\uc5d0 \uc704\uc784\ud558\uc5ec \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uac1c\ubc1c\uc744 \uc6a9\uc774\ud558\uac8c \ud569\ub2c8\ub2e4. Spring\uc758 DispatcherServlet \uc758 \uac15\ub825\ud55c \ud2b9\uc9d5\uc740 Spring IoC \ucee8\ud14c\uc774\ub108\uc640 \uc644\uc804\ud788 \ud1b5\ud569\ub418\uc5b4 Spring\uc758 \ub2e4\ub978 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ud544\uc694\ud558\uba74 \uc27d\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ucc98\ub9ac \ud750\ub984 \uac1c\uc694 DispatcherServlet \uc774 \uc694\uccad\uc744 \uc218\uc2e0\ud569\ub2c8\ub2e4. DispatcherServlet \uc740 \uc801\uc808\ud55c \ucee8\ud2b8\ub864\ub7ec \ub97c\uc120\ud0dd\ud558\ub294 \uc791\uc5c5\uc744 HandlerMapping\uc5d0 \uc804\ub2ec \ud569\ub2c8\ub2e4. HandlerMapping \uc740 \uc218\uc2e0 \uc694\uccad URL\uc5d0 \ub9f5\ud551 \ub41c \ucee8\ud2b8\ub864\ub7ec\ub97c \uc120\ud0dd\ud558\uace0 (\uc120\ud0dd\ub41c \ud578\ub4e4\ub7ec) \ubc0f \ucee8\ud2b8\ub864\ub7ec \ub97c DispatcherServlet\uc73c\ub85c \ub9ac\ud134 \ud569\ub2c8\ub2e4. DispatcherServlet \uc740 Controller \uc758 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uc2e4\ud589 \ud0dc\uc2a4\ud06c\ub97c HandlerAdapter\ub85c \ub514\uc2a4\ud328\uce58 \ud569\ub2c8\ub2e4. HandlerAdapter \ub294 Controller \uc758 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \ud504\ub85c\uc138\uc2a4\ub97c \ud638\ucd9c\ud569\ub2c8\ub2e4. Controller \ub294 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 \uc2e4\ud589\ud558\uace0 \ucc98\ub9ac \uacb0\uacfc\ub97c Model\uc5d0 \uc124\uc815\ud558\uace0 \ub17c\ub9ac\uc801 \ubdf0 \uc774\ub984\uc744 HandlerAdapter\uc5d0 \ub9ac\ud134\ud569\ub2c8\ub2e4. DispatcherServlet \uc740 View \uc774\ub984\uc5d0 \ud574\ub2f9\ud558\ub294 View \ub97c \ud574\uacb0\ud558\ub294 \uc791\uc5c5\uc744 ViewResolver\ub85c \uc804\ub2ec \ud569\ub2c8\ub2e4. ViewResolver \ub294\ubdf0 \uc774\ub984\uc5d0 \ub9e4\ud551\ub41c \ubdf0\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4. DispatcherServlet \uc740 \ub80c\ub354\ub9c1 \ud504\ub85c\uc138\uc2a4\ub97c \ub9ac\ud134 \ub41c View\ub85c \uc804\ub2ec\ud569\ub2c8\ub2e4. \ubdf0\ub294 \ubaa8\ub378 \ub370\uc774\ud130\ub97c\ub80c\ub354\ub9c1\ud558\uace0 \uc751\ub2f5\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4. Demo API Project Template Layout \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158 \uc544\ud0a4\ud14d\ucc98\ub294 CoC(Convention over Configuration)\uc744 \uae30\ubc18\uc73c\ub85c, \ubcc4\ub3c4\uc758 \uc124\uba85 \uc5c6\uc774\ub3c4 \ud504\ub85c\uc81d\ud2b8/\ud328\ud0a4\uc9c0/\ub9ac\uc18c\uc2a4 \uad6c\uc870\uc640 Naming \ub8f0\uc744 \uc0b4\ud3b4 \ubcf4\uace0, \uac1c\ubc1c\uc790\uac00 \uc801\uc808\ud55c \uad6c\ud604\uc744 \ud558\ub3c4\ub85d \uac00\uc774\ub4dc \ud569\ub2c8\ub2e4.","title":"Application \ud504\ub85c\uc81d\ud2b8 \ud15c\ud50c\ub9bf"},{"location":"app/app-01/#spring-boot-application-flow-diagram","text":"Spring-Boot MVC \ud504\ub808\uc784 \uc6cc\ud06c\ub294 \ub2e4\ub978 \ub9ce\uc740 \uc6f9 MVC \ud504\ub808\uc784 \uc6cc\ud06c\uc640 \ub9c8\ucc2c\uac00\uc9c0\ub85c \uc694\uccad \uc911\uc2ec\uc774\uba70 Dispatcher-Servlet\uc744 \uc911\uc2ec\uc73c\ub85c \uc124\uacc4\ub418\uc5b4 \uc694\uccad\uc744 \ucee8\ud2b8\ub864\ub7ec\uc5d0 \uc704\uc784\ud558\uc5ec \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uac1c\ubc1c\uc744 \uc6a9\uc774\ud558\uac8c \ud569\ub2c8\ub2e4. Spring\uc758 DispatcherServlet \uc758 \uac15\ub825\ud55c \ud2b9\uc9d5\uc740 Spring IoC \ucee8\ud14c\uc774\ub108\uc640 \uc644\uc804\ud788 \ud1b5\ud569\ub418\uc5b4 Spring\uc758 \ub2e4\ub978 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ud544\uc694\ud558\uba74 \uc27d\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","title":"Spring-Boot Application Flow Diagram"},{"location":"app/app-01/#demo-api-project-template-layout","text":"\uc5b4\ud50c\ub9ac\ucf00\uc774\uc158 \uc544\ud0a4\ud14d\ucc98\ub294 CoC(Convention over Configuration)\uc744 \uae30\ubc18\uc73c\ub85c, \ubcc4\ub3c4\uc758 \uc124\uba85 \uc5c6\uc774\ub3c4 \ud504\ub85c\uc81d\ud2b8/\ud328\ud0a4\uc9c0/\ub9ac\uc18c\uc2a4 \uad6c\uc870\uc640 Naming \ub8f0\uc744 \uc0b4\ud3b4 \ubcf4\uace0, \uac1c\ubc1c\uc790\uac00 \uc801\uc808\ud55c \uad6c\ud604\uc744 \ud558\ub3c4\ub85d \uac00\uc774\ub4dc \ud569\ub2c8\ub2e4.","title":"Demo API Project Template Layout"},{"location":"arch/arch-01/","text":"Infra Architecture \uc778\ud504\ub77c \uc544\ud0a4\ud14d\ucc98 \ub3c4\uba54\uc778 \uc815\uc758 \uc778\ud504\ub77c \ub9ac\uc18c\uc2a4 \uad6c\ubd84 \ud658\uacbd \ubc0f \uc11c\ube44\uc2a4 \ubaa8\ub4c8 \uc2dc\uc2a4\ud15c \uad6c\ubd84 toolchain \ub9ac\uc804 apne2 Environment prd \uc11c\ube44\uc2a4 \ubaa8\ub4c8 demo-app \uc778\ud504\ub77c \uc544\ud0a4\ud14d\ucc98 \ub17c\ub9ac \ubaa8\ub378 demo-api \uc11c\ube44\uc2a4 \ucd9c\uc2dc\ub97c \uc704\ud574\uc120 vpc, alb, subnet\ub4f1 AWS \ucf58\uc194\uc5d0\uc11c \ud544\uc694\ud55c \ub9ac\uc18c\uc2a4\ub97c \uc0ac\uc804\uc5d0 \uad6c\uc131 \ud558\uc5ec\uc57c \ud569\ub2c8\ub2e4. \ud574\ub2f9 \ub9ac\uc18c\uc2a4\uc758 \uad6c\uc131\uc740 VPC \ub9ac\uc18c\uc2a4 \uad6c\uc131 \uc744 \ucc38\uace0 \ud569\ub2c8\ub2e4.","title":"\uc778\ud504\ub77c \uc544\ud0a4\ud14d\ucc98"},{"location":"arch/arch-01/#infra-architecture","text":"","title":"Infra Architecture"},{"location":"arch/arch-01/#_1","text":"\uc778\ud504\ub77c \ub9ac\uc18c\uc2a4 \uad6c\ubd84 \ud658\uacbd \ubc0f \uc11c\ube44\uc2a4 \ubaa8\ub4c8 \uc2dc\uc2a4\ud15c \uad6c\ubd84 toolchain \ub9ac\uc804 apne2 Environment prd \uc11c\ube44\uc2a4 \ubaa8\ub4c8 demo-app","title":"\uc778\ud504\ub77c \uc544\ud0a4\ud14d\ucc98 \ub3c4\uba54\uc778 \uc815\uc758"},{"location":"arch/arch-01/#_2","text":"demo-api \uc11c\ube44\uc2a4 \ucd9c\uc2dc\ub97c \uc704\ud574\uc120 vpc, alb, subnet\ub4f1 AWS \ucf58\uc194\uc5d0\uc11c \ud544\uc694\ud55c \ub9ac\uc18c\uc2a4\ub97c \uc0ac\uc804\uc5d0 \uad6c\uc131 \ud558\uc5ec\uc57c \ud569\ub2c8\ub2e4. \ud574\ub2f9 \ub9ac\uc18c\uc2a4\uc758 \uad6c\uc131\uc740 VPC \ub9ac\uc18c\uc2a4 \uad6c\uc131 \uc744 \ucc38\uace0 \ud569\ub2c8\ub2e4.","title":"\uc778\ud504\ub77c \uc544\ud0a4\ud14d\ucc98 \ub17c\ub9ac \ubaa8\ub378"},{"location":"arch/arch-02/","text":"Demo API Application CICD \ud234\uccb4\uc778 \uc544\ud0a4\ud14d\ucc98 Demo API Application \ucd9c\uc2dc\ub97c \uc704\ud574 DevOps \ud300\uc758 \ube44\uc988\ub2c8\uc2a4 \ud504\ub85c\uc138\uc2a4 \ud750\ub984\uacfc, Toolchain\uc744 \ud1b5\ud55c blue/green \ubc30\ud3ec \ud750\ub984\uc758 \uc608\uc2dc \uc785\ub2c8\ub2e4. GitOps \uc815\ucc45\uacfc \ud1b5\ud574 \uc11c\ube44\uc2a4 \ucd9c\uc2dc\uac00 \ubcf4\ub2e4 \uc790\ub3d9\ud654 \ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","title":"CICD \uc544\ud0a4\ud14d\ucc98"},{"location":"arch/arch-02/#demo-api-application-cicd","text":"Demo API Application \ucd9c\uc2dc\ub97c \uc704\ud574 DevOps \ud300\uc758 \ube44\uc988\ub2c8\uc2a4 \ud504\ub85c\uc138\uc2a4 \ud750\ub984\uacfc, Toolchain\uc744 \ud1b5\ud55c blue/green \ubc30\ud3ec \ud750\ub984\uc758 \uc608\uc2dc \uc785\ub2c8\ub2e4. GitOps \uc815\ucc45\uacfc \ud1b5\ud574 \uc11c\ube44\uc2a4 \ucd9c\uc2dc\uac00 \ubcf4\ub2e4 \uc790\ub3d9\ud654 \ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","title":"Demo API Application CICD \ud234\uccb4\uc778 \uc544\ud0a4\ud14d\ucc98"},{"location":"cicd/cicd-01/","text":"GitLab webhook \uad6c\uc131GitLab webhook \uad6c\uc131 GitLab\uc5d0 jenkins webhook \uad6c\uc131\uc744 \uc5f0\uacb0\ud558\uc5ec git\uc5d0 commit\uc774 \uc77c\uc5b4\ub098\ub294 \uacbd\uc6b0 \uc790\ub3d9 \ubc30\ud3ec\ub97c \uc2e4\ud589\ud558\uac8c \ud55c\ub2e4. 1. GitLab \ud1a0\ud070 \uc0dd\uc131 Settings > Access Tokens GitLab\uc5d0\uc11c \uc0dd\uc131\ub41c \ud1a0\ud070 \uac12\uc740 \ub2e4\uc2dc \ud655\uc778\uc774 \ubd88\uac00\ub2a5\ud568\uc73c\ub85c \ubcf5\uc0ac\ud574\uc11c \uac16\uace0\uc788\ub294\ub2e4. 2. Jenkins \uc124\uc815 2-1) Credentials \ub4f1\ub85d \ub4f1\ub85d \ud654\uba74 GitLab\uc5d0\uc11c \ubc1c\uae09 \ubc1b\uc740 \ud1a0\ud070 \uac12 \uc124\uc815 2-2) \uc2dc\uc2a4\ud15c GitLab \uc124\uc815 jenkins credentials \uc120\ud0dd 3. Jenkins webhook \uc124\uc815 3-1) Jenkins webhook \uc815\ubcf4 \ud655\uc778 Jenkins \ud654\uba74\uc5d0\uc11c webhook url \uc815\ubcf4\ub97c \ud655\uc778\ud55c\ub2e4. 3-2) GitLab \ub4f1\ub85d gitlab \ud654\uba74\uc5d0\uc11c jenkins webhook url\uc744 \ub4f1\ub85d\ud55c\ub2e4. \ub4f1\ub85d \ud14c\uc2a4\ud2b8 \uacb0\uacfc","title":"GitLab webhook \uad6c\uc131"},{"location":"cicd/cicd-01/#gitlab-webhook-gitlab-webhook","text":"GitLab\uc5d0 jenkins webhook \uad6c\uc131\uc744 \uc5f0\uacb0\ud558\uc5ec git\uc5d0 commit\uc774 \uc77c\uc5b4\ub098\ub294 \uacbd\uc6b0 \uc790\ub3d9 \ubc30\ud3ec\ub97c \uc2e4\ud589\ud558\uac8c \ud55c\ub2e4.","title":"GitLab webhook \uad6c\uc131GitLab webhook \uad6c\uc131"},{"location":"cicd/cicd-01/#1-gitlab","text":"Settings > Access Tokens GitLab\uc5d0\uc11c \uc0dd\uc131\ub41c \ud1a0\ud070 \uac12\uc740 \ub2e4\uc2dc \ud655\uc778\uc774 \ubd88\uac00\ub2a5\ud568\uc73c\ub85c \ubcf5\uc0ac\ud574\uc11c \uac16\uace0\uc788\ub294\ub2e4.","title":"1. GitLab \ud1a0\ud070 \uc0dd\uc131"},{"location":"cicd/cicd-01/#2-jenkins","text":"","title":"2. Jenkins \uc124\uc815"},{"location":"cicd/cicd-01/#2-1-credentials","text":"\ub4f1\ub85d \ud654\uba74 GitLab\uc5d0\uc11c \ubc1c\uae09 \ubc1b\uc740 \ud1a0\ud070 \uac12 \uc124\uc815","title":"2-1) Credentials \ub4f1\ub85d"},{"location":"cicd/cicd-01/#2-2-gitlab","text":"jenkins credentials \uc120\ud0dd","title":"2-2) \uc2dc\uc2a4\ud15c GitLab \uc124\uc815"},{"location":"cicd/cicd-01/#3-jenkins-webhook","text":"","title":"3. Jenkins webhook \uc124\uc815"},{"location":"cicd/cicd-01/#3-1-jenkins-webhook","text":"Jenkins \ud654\uba74\uc5d0\uc11c webhook url \uc815\ubcf4\ub97c \ud655\uc778\ud55c\ub2e4.","title":"3-1) Jenkins webhook \uc815\ubcf4 \ud655\uc778"},{"location":"cicd/cicd-01/#3-2-gitlab","text":"gitlab \ud654\uba74\uc5d0\uc11c jenkins webhook url\uc744 \ub4f1\ub85d\ud55c\ub2e4. \ub4f1\ub85d \ud14c\uc2a4\ud2b8 \uacb0\uacfc","title":"3-2) GitLab \ub4f1\ub85d"},{"location":"cicd/cicd-02/","text":"Blue green jenkins \uad6c\uc131 1. jenkins pipeline \uc0dd\uc131 (Blue ocean) 1-1) \ubc30\ud3ec \uc9c4\ud589 \uc120\ud589\uc791\uc5c5 application(frontend) \ud504\ub85c\uc81d\ud2b8\uc5d0 JenkinsFile \uc774 \uc124\uc815\ub418\uc5b4 \uc788\uc5b4\uc57c \ud55c\ub2e4. code-deploy \uc758 \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uacfc \uadf8\ub8f9\uc774 \uc815\uc0c1\uc801\uc73c\ub85c \uc0dd\uc131\ub418\uc5b4 \uc788\uc5b4\uc57c \ub41c\ub2e4. code-deploy \uac00 \uc815\uc0c1 \uc218\ud589 \uac00\ub2a5\ud558\ub3c4\ub85d \ud504\ub85c\uc81d\ud2b8\uc5d0 appspec.yml\uc774 \uc815\uc0c1\uc801\uc73c\ub85c \uc124\uc815\ub418\uc5b4 \uc788\uc5b4\uc57c \ud55c\ub2e4. (appspec.yml \ud30c\uc77c\uc740 code-deploy\uc5d0\uc11c \ubc30\ud3ec\uc2dc\uc5d0 \uc0ac\uc6a9\ud558\ub294 \ud30c\uc77c) 1-2) \ud30c\uc774\ud504\ub77c\uc778 \uc0dd\uc131 '\ube14\ub8e8 \uc624\uc158 \uc5f4\uae30' \uc88c\uce21 \uba54\ub274 \ud074\ub9ad\ud558\uc5ec \ud30c\uc774\ud504\ub77c\uc778 \uc0dd\uc131 \ubc30\ud3ec \uacb0\uacfc \ud655\uc778 2. jenkins blue-green \ubc30\ud3ec 2-1) \ube14\ub8e8 \uadf8\ub9b0 \ubc30\ud3ec \ud30c\uc774\ud504\ub77c\uc778 2-2) \ud30c\uc774\ud504\ub77c\uc778 \uc124\uba85 JenkinsFile \ucc38\uc870 pipeline { agent any stages { stage('Pre-Process') { \uc0ac\uc804 \uc900\ube44 \ub2e8\uacc4\ub85c \ubc30\ud3ec\uc5d0 \ud544\uc694\ud55c \ubcc0\uc218\uac12 \uc14b\ud305\ud55c\ub2e4. (blue, green \uc0ac\uc6a9 \ubcc0\uc218) } stage('Git clone') { GitLab\uc5d0\uc11c frontend \ud504\ub85c\uc81d\ud2b8 clone \ubc1b\ub294\ub2e4. } stage ('Npm build') { git\uc5d0\uc11c \ubc1b\uc740 frontend \ud504\ub85c\uc81d\ud2b8 \ubc30\ud3ec \ud30c\uc77c\uc744 \uc0dd\uc131\ud55c\ub2e4. } stage ('S3 upload') { frontend \ud504\ub85c\uc81d\ud2b8 \ubc30\ud3ec \ud30c\uc77c\uc744 zip \ud30c\uc77c\ub85c \ubcc0\uacbd\ud558\uc5ec, S3\uc5d0 \uc800\uc7a5\ud55c\ub2e4. } stage('Preparing Auto-Scale Stage') { blue \uac00 \uc0ac\uc6a9\uc778 \uacbd\uc6b0 green Auto-scaling group\uc744 \ucd5c\uc18c \ub2e8\uc704\ub85c \ud65c\uc131\ud654 \uc2dc\ud0a8\ub2e4. } stage('Deploy') { AWS CodeDeploy\ub97c \uc2e4\ud589\ud558\uc5ec, green\uc5d0 frontend \ub97c \ubc30\ud3ec\ud55c\ub2e4. } stage('Health-Check') { AWS CodeDeploy \ubc30\ud3ec \uc644\ub8cc\ub97c \uae30\ub2e4\ub9b0\ub2e4. } stage('Change LB-Routing') { ALB\uc5d0 \ub9f5\ud551\ub418\uc5b4 \uc788\ub294 blue\uc640 green \uc758 target group\uc744 \ubcc0\uacbd\ud558\uc5ec \uc0c8\ub85c \ubc30\ud3ec\ub3e0\uc5b4 \uc788\ub294 green\uc744 \uc0ac\uc6a9\uac00\ub2a5\ud558\uac8c \ud55c\ub2e4. } stage('Stopping Blue Stage') { \uae30\uc874\uc5d0 \uc0ac\uc6a9\uc911\uc778 blue \uc601\uc5ed\uc744 \uc815\uc9c0\uc2dc\ud0a8\ub2e4. } } }","title":"Jenkins \ud30c\uc774\ud504\ub77c\uc778 \uad6c\uc131"},{"location":"cicd/cicd-02/#blue-green-jenkins","text":"","title":"Blue green jenkins \uad6c\uc131"},{"location":"cicd/cicd-02/#1-jenkins-pipeline-blue-ocean","text":"","title":"1. jenkins pipeline \uc0dd\uc131 (Blue ocean)"},{"location":"cicd/cicd-02/#1-1","text":"application(frontend) \ud504\ub85c\uc81d\ud2b8\uc5d0 JenkinsFile \uc774 \uc124\uc815\ub418\uc5b4 \uc788\uc5b4\uc57c \ud55c\ub2e4. code-deploy \uc758 \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uacfc \uadf8\ub8f9\uc774 \uc815\uc0c1\uc801\uc73c\ub85c \uc0dd\uc131\ub418\uc5b4 \uc788\uc5b4\uc57c \ub41c\ub2e4. code-deploy \uac00 \uc815\uc0c1 \uc218\ud589 \uac00\ub2a5\ud558\ub3c4\ub85d \ud504\ub85c\uc81d\ud2b8\uc5d0 appspec.yml\uc774 \uc815\uc0c1\uc801\uc73c\ub85c \uc124\uc815\ub418\uc5b4 \uc788\uc5b4\uc57c \ud55c\ub2e4. (appspec.yml \ud30c\uc77c\uc740 code-deploy\uc5d0\uc11c \ubc30\ud3ec\uc2dc\uc5d0 \uc0ac\uc6a9\ud558\ub294 \ud30c\uc77c)","title":"1-1) \ubc30\ud3ec \uc9c4\ud589 \uc120\ud589\uc791\uc5c5"},{"location":"cicd/cicd-02/#1-2","text":"'\ube14\ub8e8 \uc624\uc158 \uc5f4\uae30' \uc88c\uce21 \uba54\ub274 \ud074\ub9ad\ud558\uc5ec \ud30c\uc774\ud504\ub77c\uc778 \uc0dd\uc131 \ubc30\ud3ec \uacb0\uacfc \ud655\uc778","title":"1-2) \ud30c\uc774\ud504\ub77c\uc778 \uc0dd\uc131"},{"location":"cicd/cicd-02/#2-jenkins-blue-green","text":"","title":"2. jenkins blue-green \ubc30\ud3ec"},{"location":"cicd/cicd-02/#2-1","text":"","title":"2-1) \ube14\ub8e8 \uadf8\ub9b0 \ubc30\ud3ec \ud30c\uc774\ud504\ub77c\uc778"},{"location":"cicd/cicd-02/#2-2","text":"JenkinsFile \ucc38\uc870 pipeline { agent any stages { stage('Pre-Process') { \uc0ac\uc804 \uc900\ube44 \ub2e8\uacc4\ub85c \ubc30\ud3ec\uc5d0 \ud544\uc694\ud55c \ubcc0\uc218\uac12 \uc14b\ud305\ud55c\ub2e4. (blue, green \uc0ac\uc6a9 \ubcc0\uc218) } stage('Git clone') { GitLab\uc5d0\uc11c frontend \ud504\ub85c\uc81d\ud2b8 clone \ubc1b\ub294\ub2e4. } stage ('Npm build') { git\uc5d0\uc11c \ubc1b\uc740 frontend \ud504\ub85c\uc81d\ud2b8 \ubc30\ud3ec \ud30c\uc77c\uc744 \uc0dd\uc131\ud55c\ub2e4. } stage ('S3 upload') { frontend \ud504\ub85c\uc81d\ud2b8 \ubc30\ud3ec \ud30c\uc77c\uc744 zip \ud30c\uc77c\ub85c \ubcc0\uacbd\ud558\uc5ec, S3\uc5d0 \uc800\uc7a5\ud55c\ub2e4. } stage('Preparing Auto-Scale Stage') { blue \uac00 \uc0ac\uc6a9\uc778 \uacbd\uc6b0 green Auto-scaling group\uc744 \ucd5c\uc18c \ub2e8\uc704\ub85c \ud65c\uc131\ud654 \uc2dc\ud0a8\ub2e4. } stage('Deploy') { AWS CodeDeploy\ub97c \uc2e4\ud589\ud558\uc5ec, green\uc5d0 frontend \ub97c \ubc30\ud3ec\ud55c\ub2e4. } stage('Health-Check') { AWS CodeDeploy \ubc30\ud3ec \uc644\ub8cc\ub97c \uae30\ub2e4\ub9b0\ub2e4. } stage('Change LB-Routing') { ALB\uc5d0 \ub9f5\ud551\ub418\uc5b4 \uc788\ub294 blue\uc640 green \uc758 target group\uc744 \ubcc0\uacbd\ud558\uc5ec \uc0c8\ub85c \ubc30\ud3ec\ub3e0\uc5b4 \uc788\ub294 green\uc744 \uc0ac\uc6a9\uac00\ub2a5\ud558\uac8c \ud55c\ub2e4. } stage('Stopping Blue Stage') { \uae30\uc874\uc5d0 \uc0ac\uc6a9\uc911\uc778 blue \uc601\uc5ed\uc744 \uc815\uc9c0\uc2dc\ud0a8\ub2e4. } } }","title":"2-2) \ud30c\uc774\ud504\ub77c\uc778 \uc124\uba85"},{"location":"iac/infra-01/","text":"IAM \uc5ed\ud560\ub9cc\ub4e4\uae30 Code-deploy\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubc30\ud3ec\ud558\uae30 \uc704\ud574\uc11c\ub294 'EC2'\uc640 'CODE-DEPLOY'\uc5d0 \uc5ed\ud560\uc774 \uc0dd\uc131\ub418\uc5b4\uc57c\ud55c\ub2e4. 1. \uacf5\ud1b5 \uba54\ub274 2. EC2 \uc5ed\ud560 \uc0dd\uc131 EC2 \uc5ed\ud560\uc740 aws lunch-template \uc0dd\uc131\uc2dc\uc5d0 \uc124\uc815\ud574\uc900\ub2e4. 3. code-deploy \uc5ed\ud560 \uc0dd\uc131 code-deploy \uc5ed\ud560 \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158 \uc0dd\uc131\uc2dc\uc5d0 \uc124\uc815\ud574\uc900\ub2e4.","title":"IAM \uad6c\uc131"},{"location":"iac/infra-01/#iam","text":"Code-deploy\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubc30\ud3ec\ud558\uae30 \uc704\ud574\uc11c\ub294 'EC2'\uc640 'CODE-DEPLOY'\uc5d0 \uc5ed\ud560\uc774 \uc0dd\uc131\ub418\uc5b4\uc57c\ud55c\ub2e4.","title":"IAM \uc5ed\ud560\ub9cc\ub4e4\uae30"},{"location":"iac/infra-01/#1","text":"","title":"1. \uacf5\ud1b5 \uba54\ub274"},{"location":"iac/infra-01/#2-ec2","text":"EC2 \uc5ed\ud560\uc740 aws lunch-template \uc0dd\uc131\uc2dc\uc5d0 \uc124\uc815\ud574\uc900\ub2e4.","title":"2. EC2 \uc5ed\ud560 \uc0dd\uc131"},{"location":"iac/infra-01/#3-code-deploy","text":"code-deploy \uc5ed\ud560 \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158 \uc0dd\uc131\uc2dc\uc5d0 \uc124\uc815\ud574\uc900\ub2e4.","title":"3. code-deploy \uc5ed\ud560 \uc0dd\uc131"},{"location":"iac/infra-02/","text":"VPC \ub9ac\uc18c\uc2a4 \uad6c\uc131 Demo API \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uc758 Blue/Green \ubc30\ud3ec\ub97c \uc704\ud55c VPC\uc758 \uc8fc\uc694 \ub9ac\uc18c\uc2a4\ub97c \uad6c\uc131 \ud569\ub2c8\ub2e4. VPC \uc8fc\uc694 \ub9ac\uc18c\uc2a4 \ub9ac\uc18c\uc2a4 \ud0c0\uc785 \ub9ac\uc18c\uc2a4 \uc774\ub984 \uc124\uba85 \uc11c\ube0c \ub124\ud2b8\uc6cc\ud06c private-subnet-01 target group 01\uc758 my-app\uc744 \ubc30\uce58\ub97c \uc704\ud55c \uc11c\ube0c\ub137\uc73c\ub85c HA\ub97c \uc704\ud574 AZ(ap-northeast-1a) \uc5d0 \uad6c\uc131 \uc624\ud1a0 \uc2a4\ucf00\uc77c\ub9c1 \uadf8\ub8f9 asg-group-a CodeDeploy\uc758 group-a \ubc30\ud3ec\uadf8\ub8f9 \ud0c0\uac9f\uc778 auto-scaling-group \u201casg-group-a\u201d (\uadf8\ub9b0 \uc601\uc5ed) \ud0c0\uac9f \uadf8\ub8f9 my-app-tg-a my-app-tg-a \ud0c0\uac9f \uadf8\ub8f9\uc740 ALB \uc758 \ub77c\uc6b0\ud305 \uacbd\ub85c\ub85c \uc5f0\uacb0\ub41c On-Servcie \uc911\uc778 \uc11c\ube44\uc2a4 \uadf8\ub8f9 (\uadf8\ub9b0 \uc601\uc5ed) \uc11c\ube0c \ub124\ud2b8\uc6cc\ud06c private-subnet-02 target group 02\uc758 my-app\uc744 \ubc30\uce58\ub97c \uc704\ud55c \uc11c\ube0c\ub137\uc73c\ub85c HA\ub97c \uc704\ud574 AZ(ap-northeast-1c) \uc5d0 \uad6c\uc131 \uc624\ud1a0 \uc2a4\ucf00\uc77c\ub9c1 \uadf8\ub8f9 asg-group-b CodeDeploy\uc758 group-b \ubc30\ud3ec\uadf8\ub8f9 \ud0c0\uac9f\uc778 auto-scaling-group \u201casg-group-b\u201d (\ube14\ub8e8 \uc601\uc5ed) \ud0c0\uac9f \uadf8\ub8f9 my-app-tg-b CodeDeploy\uc758 group-b \ubc30\ud3ec\uadf8\ub8f9 \ud0c0\uac9f\uc778 auto-scaling-group \u201casg-group-b\u201d (\ube14\ub8e8 \uc601\uc5ed) \uc2dc\uc791 \ud15c\ud50c\ub9bf my-app-asg-lt asg-group-a, asg-group-b \uc624\ud1a0 \uc2a4\ucf00\uc77c\ub9c1 \uadf8\ub8f9\uc5d0\uc11c \uc0ac\uc6a9 \ud558\ub294 ec2\uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \ubc0f health-api \ub97c \uc704\ud55c \uc2dc\uc791 \ud15c\ud50c\ub9bf \uad6c\uc131 \uc624\ud1a0 \uc2a4\ucf00\uc77c \uadf8\ub8f9 EC2 \uc778\uc2a4\ud134\uc2a4(\ucef4\ud4e8\ud305 \ud30c\uc6cc)\uc758 \ud0c4\ub825\uc801\uc778 \ud655\uc7a5 \uae30\ub2a5\uc744 \uac00\ub2a5\ud558\uac8c \ud558\ub294 AWS \uc758 \uc11c\ube44\uc2a4 \uc8fc\uc694 \uc18d\uc131 \uc124\uc815 \uac12 \uc608\uc2dc \uae30\ud0c0 \uc624\ud1a0 \uc2a4\ucf00\uc77c\uba85 my-app-asg \uc2dc\uc791 \ud15c\ud50c\ub9bf my-app-asg-lt \uc0c8\ub86d\uac8c \uad6c\ub3d9\ub418\ub294 my-app\ub97c \uc704\ud55c ec2 \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131\uc2dc \ucc38\uc870 \ud558\ub294 \uc2dc\uc791 \uad6c\uc131 \ud15c\ud50c\ub9bf desired 1 \ucd5c\ucd08 \uc2dc\uc791\uc5d0 \ud544\uc694\ud55c \uc778\uc2a4\ud134\uc2a4 \uc218 min 1 \ud0c4\ub825\uc801\uc73c\ub85c \ucd95\uc18c \ud558\ub294 \uacbd\uc6b0 \uc778\uc2a4\ud134\uc2a4\uc758 \ucd5c\uc18c \uac2f\uc218 max 5 \ud0c4\ub825\uc801\uc73c\ub85c \ud655\uc7a5 \ud558\ub294 \uacbd\uc6b0 \uc778\uc2a4\ud134\uc2a4\uc758 \ucd5c\ub300 \uac2f\uc218 vpc-id vpc10290124 ASG \uac00 \uad6c\uc131\ub41c VPC AZ ap-northeast-2a, ap-northeast-2c HA \ub97c \ud1b5\ud55c \uac00\uc6a9 \uad6c\uc131\uc744 \uc704\ud574 \ubb3c\ub9ac\uc801\uc778 Data Center \uc124\uc815 target group my-app-tg-a \uc624\ud1a0\uc2a4\ucf00\uc77c\uc758 \ud0c4\ub825\uc801\uc778 \ud655\uc7a5\uc5d0 \uc758\ud574 EC2 \uc778\uc2a4\ud134\uc2a4\uac00 \uc0dd\uc131 \ub418\uc5b4 \uc11c\ube44\uc2a4 \ub418\ub294 \ub300\uc0c1 \uadf8\ub8f9 \uc0c1\ud0dc\uac80\uc0ac \uc720\ud734\uae30\uac04 300 \uc624\ud1a0\uc2a4\ucf00\uc77c \ub77c\uc774\ud504\uc0ac\uc774\ud074\uc758 \uc8fc\uc694 \uc774\ubca4\ud2b8\uc5d0 \ub300\ud574 \uc0c1\ud0dc \uc810\uac80\uc774 \ud544\uc694\ud55c \uae30\uc900 \uc2dc\uac04 \uc2dc\uc791 \ud15c\ud50c\ub9bf \uc2dc\uc791 \ud15c\ud50c\ub9bf\uc740 EC2 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0c8\ub86d\uac8c \uad6c\ub3d9\ud560 \ub54c \ucc38\uc870 \ud558\ub294 OS \ud0c0\uc785, EC2 \ud0c0\uc785, EBS Volume, \ubcf4\uc548 \uadf8\ub8f9 \ub4f1\uc744 \uc815\uc758 \ud569\ub2c8\ub2e4. \uc8fc\uc694 \uc18d\uc131 \uc124\uc815 \uac12 \uc608\uc2dc \uc124\uba85 name my-app-asg-lt ec2-type m5.large \uc0c8\ub86d\uac8c \uad6c\ub3d9\ub418\ub294 my-app\ub97c \uc704\ud55c ec2 \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131\uc2dc \ucc38\uc870 \ud558\ub294 \uc2dc\uc791 \uad6c\uc131 \ud15c\ud50c\ub9bf ami-id ami-0c5a717974f63b04c \ucd5c\ucd08 \uc2dc\uc791\uc5d0 \ud544\uc694\ud55c \uc778\uc2a4\ud134\uc2a4 \uc218 Security Group sg-0627eb058ca78b96c, ... \ud0c4\ub825\uc801\uc73c\ub85c \ucd95\uc18c \ud558\ub294 \uacbd\uc6b0 \uc778\uc2a4\ud134\uc2a4\uc758 \ucd5c\uc18c \uac2f\uc218 key-pair prd-keypair \ud0c4\ub825\uc801\uc73c\ub85c \ud655\uc7a5 \ud558\ub294 \uacbd\uc6b0 \uc778\uc2a4\ud134\uc2a4\uc758 \ucd5c\ub300 \uac2f\uc218 EBS-snapshot snap-0cbb59dd32bab1541 OS \uc124\uce58\uc5d0 \ud544\uc694\ud55c EBS \ubcfc\ub968 \uc2a4\ub0c5\uc0f7 EBS Size 12 GB EBS \ubcfc\ub968 \ud06c\uae30 Volum Type gp2 SSD, HDD \ub4f1\uc758 \ub514\uc2a4\ud06c \uc561\uc138\uc2a4 \ud0c0\uc785 \uc885\ub8cc\uc2dc \uc0ad\uc81c Yes \uc624\ud1a0\uc2a4\ucf00\uc77c\uc758 \uacbd\uc6b0 \uc790\ub3d9 \ucd95\uc18c\ub41c \uc778\uc2a4\ud134\uc2a4\uc5d0 \ub300\ud574 \uc885\ub8cc \ud558\ub294 \uc815\ucc45\uc774 \uae30\ubcf8 \uac12 user-data 300 health check\ub97c \uc704\ud55c api \uad6c\ub3d9 \ub4f1 \uc0ac\uc6a9\uc790 \uc815\uc758 \uc258 \uc2a4\ud06c\ub9bd\ud2b8 \uc2e4\ud589\uc2dc \uae30\uc785 Code-Deploy AWS Code-Deploy\ub97c \ud1b5\ud574 Blue/Green \ubc30\ud3ec\ub97c \uad6c\uc131 \ud569\ub2c8\ub2e4. \uc8fc\uc694 \uc18d\uc131 \uc124\uc815 \uac12 \uc608\uc2dc \uc124\uba85 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 my-app-code-deploy my-app \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uc744 Blue/Green \ubc30\ud3ec\ub97c \ud569\ub2c8\ub2e4. \ud50c\ub7ab\ud3fc EC2/\uc628\ud504\ub808\ubbf8\uc2a4 \ubc30\ud3ec \ub300\uc0c1\uc774 EC2 \uc778 \uacbd\uc6b0 \ubc30\ud3ec \uc720\ud615 \ud604\uc7ac \uc704\uce58 \"\ud604\uc7ac \uc704\uce58\"\uc640 \"\ube14\ub8e8 \uadf8\ub9b0\" \ubc30\ud3ec \ub450\uac00\uc9c0 \uc720\ud615\uc744 \uc81c\uacf5 \ud558\uc9c0\ub9cc, \"\ud604\uc7ac \uc704\uce58\" \uc720\ud615\uc744 \ucee4\uc2a4\ud140 \ud558\uc5ec \"\ube14\ub8e8 \uadf8\ub9b0\" \ubc30\ud3ec\ub97c \uad6c\uc131 \ud569\ub2c8\ub2e4. \ubc30\ud3ec \uadf8\ub8f9 group-a, group-b \ubc30\ud3ec \uadf8\ub8f9 \ud558\ub098\ub294\uc740 \uc624\ud1a0 \uc2a4\ucf00\uc77c\ub9c1 \uadf8\ub8f9\uc744 \uc9c0\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. blue \uc640 green\uc5d0 \ud574\ub2f9\ud558\ub294 2\uac1c\uc758 \ubc30\ud3ec \uadf8\ub8f9\uc774 \ud544\uc694 \ud569\ub2c8\ub2e4. \uc624\ud1a0 \uc2a4\ucf00\uc77c \uadf8\ub8f9 my-app-asg-a, my-app-asg-a \ubc30\ud3ec \uadf8\ub8f9\uc774 \uc0ac\uc6a9\ud558\ub294 \uc624\ud1a0 \uc2a4\ucf00\uc77c \uadf8\ub8f9\uc73c\ub85c group-a \ub294 my-app-asg-a \uc73c\ub85c, group-b \ub294 my-app-asg-a \uc744 \uc0ac\uc6a9 \ud558\ub294 \uc608\uac00 \ub429\ub2c8\ub2e4.","title":"VPC \ub9ac\uc18c\uc2a4 \uad6c\uc131"},{"location":"iac/infra-02/#vpc","text":"Demo API \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uc758 Blue/Green \ubc30\ud3ec\ub97c \uc704\ud55c VPC\uc758 \uc8fc\uc694 \ub9ac\uc18c\uc2a4\ub97c \uad6c\uc131 \ud569\ub2c8\ub2e4.","title":"VPC \ub9ac\uc18c\uc2a4 \uad6c\uc131"},{"location":"iac/infra-02/#vpc_1","text":"\ub9ac\uc18c\uc2a4 \ud0c0\uc785 \ub9ac\uc18c\uc2a4 \uc774\ub984 \uc124\uba85 \uc11c\ube0c \ub124\ud2b8\uc6cc\ud06c private-subnet-01 target group 01\uc758 my-app\uc744 \ubc30\uce58\ub97c \uc704\ud55c \uc11c\ube0c\ub137\uc73c\ub85c HA\ub97c \uc704\ud574 AZ(ap-northeast-1a) \uc5d0 \uad6c\uc131 \uc624\ud1a0 \uc2a4\ucf00\uc77c\ub9c1 \uadf8\ub8f9 asg-group-a CodeDeploy\uc758 group-a \ubc30\ud3ec\uadf8\ub8f9 \ud0c0\uac9f\uc778 auto-scaling-group \u201casg-group-a\u201d (\uadf8\ub9b0 \uc601\uc5ed) \ud0c0\uac9f \uadf8\ub8f9 my-app-tg-a my-app-tg-a \ud0c0\uac9f \uadf8\ub8f9\uc740 ALB \uc758 \ub77c\uc6b0\ud305 \uacbd\ub85c\ub85c \uc5f0\uacb0\ub41c On-Servcie \uc911\uc778 \uc11c\ube44\uc2a4 \uadf8\ub8f9 (\uadf8\ub9b0 \uc601\uc5ed) \uc11c\ube0c \ub124\ud2b8\uc6cc\ud06c private-subnet-02 target group 02\uc758 my-app\uc744 \ubc30\uce58\ub97c \uc704\ud55c \uc11c\ube0c\ub137\uc73c\ub85c HA\ub97c \uc704\ud574 AZ(ap-northeast-1c) \uc5d0 \uad6c\uc131 \uc624\ud1a0 \uc2a4\ucf00\uc77c\ub9c1 \uadf8\ub8f9 asg-group-b CodeDeploy\uc758 group-b \ubc30\ud3ec\uadf8\ub8f9 \ud0c0\uac9f\uc778 auto-scaling-group \u201casg-group-b\u201d (\ube14\ub8e8 \uc601\uc5ed) \ud0c0\uac9f \uadf8\ub8f9 my-app-tg-b CodeDeploy\uc758 group-b \ubc30\ud3ec\uadf8\ub8f9 \ud0c0\uac9f\uc778 auto-scaling-group \u201casg-group-b\u201d (\ube14\ub8e8 \uc601\uc5ed) \uc2dc\uc791 \ud15c\ud50c\ub9bf my-app-asg-lt asg-group-a, asg-group-b \uc624\ud1a0 \uc2a4\ucf00\uc77c\ub9c1 \uadf8\ub8f9\uc5d0\uc11c \uc0ac\uc6a9 \ud558\ub294 ec2\uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \ubc0f health-api \ub97c \uc704\ud55c \uc2dc\uc791 \ud15c\ud50c\ub9bf \uad6c\uc131","title":"VPC \uc8fc\uc694 \ub9ac\uc18c\uc2a4"},{"location":"iac/infra-02/#_1","text":"EC2 \uc778\uc2a4\ud134\uc2a4(\ucef4\ud4e8\ud305 \ud30c\uc6cc)\uc758 \ud0c4\ub825\uc801\uc778 \ud655\uc7a5 \uae30\ub2a5\uc744 \uac00\ub2a5\ud558\uac8c \ud558\ub294 AWS \uc758 \uc11c\ube44\uc2a4 \uc8fc\uc694 \uc18d\uc131 \uc124\uc815 \uac12 \uc608\uc2dc \uae30\ud0c0 \uc624\ud1a0 \uc2a4\ucf00\uc77c\uba85 my-app-asg \uc2dc\uc791 \ud15c\ud50c\ub9bf my-app-asg-lt \uc0c8\ub86d\uac8c \uad6c\ub3d9\ub418\ub294 my-app\ub97c \uc704\ud55c ec2 \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131\uc2dc \ucc38\uc870 \ud558\ub294 \uc2dc\uc791 \uad6c\uc131 \ud15c\ud50c\ub9bf desired 1 \ucd5c\ucd08 \uc2dc\uc791\uc5d0 \ud544\uc694\ud55c \uc778\uc2a4\ud134\uc2a4 \uc218 min 1 \ud0c4\ub825\uc801\uc73c\ub85c \ucd95\uc18c \ud558\ub294 \uacbd\uc6b0 \uc778\uc2a4\ud134\uc2a4\uc758 \ucd5c\uc18c \uac2f\uc218 max 5 \ud0c4\ub825\uc801\uc73c\ub85c \ud655\uc7a5 \ud558\ub294 \uacbd\uc6b0 \uc778\uc2a4\ud134\uc2a4\uc758 \ucd5c\ub300 \uac2f\uc218 vpc-id vpc10290124 ASG \uac00 \uad6c\uc131\ub41c VPC AZ ap-northeast-2a, ap-northeast-2c HA \ub97c \ud1b5\ud55c \uac00\uc6a9 \uad6c\uc131\uc744 \uc704\ud574 \ubb3c\ub9ac\uc801\uc778 Data Center \uc124\uc815 target group my-app-tg-a \uc624\ud1a0\uc2a4\ucf00\uc77c\uc758 \ud0c4\ub825\uc801\uc778 \ud655\uc7a5\uc5d0 \uc758\ud574 EC2 \uc778\uc2a4\ud134\uc2a4\uac00 \uc0dd\uc131 \ub418\uc5b4 \uc11c\ube44\uc2a4 \ub418\ub294 \ub300\uc0c1 \uadf8\ub8f9 \uc0c1\ud0dc\uac80\uc0ac \uc720\ud734\uae30\uac04 300 \uc624\ud1a0\uc2a4\ucf00\uc77c \ub77c\uc774\ud504\uc0ac\uc774\ud074\uc758 \uc8fc\uc694 \uc774\ubca4\ud2b8\uc5d0 \ub300\ud574 \uc0c1\ud0dc \uc810\uac80\uc774 \ud544\uc694\ud55c \uae30\uc900 \uc2dc\uac04","title":"\uc624\ud1a0 \uc2a4\ucf00\uc77c \uadf8\ub8f9"},{"location":"iac/infra-02/#_2","text":"\uc2dc\uc791 \ud15c\ud50c\ub9bf\uc740 EC2 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0c8\ub86d\uac8c \uad6c\ub3d9\ud560 \ub54c \ucc38\uc870 \ud558\ub294 OS \ud0c0\uc785, EC2 \ud0c0\uc785, EBS Volume, \ubcf4\uc548 \uadf8\ub8f9 \ub4f1\uc744 \uc815\uc758 \ud569\ub2c8\ub2e4. \uc8fc\uc694 \uc18d\uc131 \uc124\uc815 \uac12 \uc608\uc2dc \uc124\uba85 name my-app-asg-lt ec2-type m5.large \uc0c8\ub86d\uac8c \uad6c\ub3d9\ub418\ub294 my-app\ub97c \uc704\ud55c ec2 \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131\uc2dc \ucc38\uc870 \ud558\ub294 \uc2dc\uc791 \uad6c\uc131 \ud15c\ud50c\ub9bf ami-id ami-0c5a717974f63b04c \ucd5c\ucd08 \uc2dc\uc791\uc5d0 \ud544\uc694\ud55c \uc778\uc2a4\ud134\uc2a4 \uc218 Security Group sg-0627eb058ca78b96c, ... \ud0c4\ub825\uc801\uc73c\ub85c \ucd95\uc18c \ud558\ub294 \uacbd\uc6b0 \uc778\uc2a4\ud134\uc2a4\uc758 \ucd5c\uc18c \uac2f\uc218 key-pair prd-keypair \ud0c4\ub825\uc801\uc73c\ub85c \ud655\uc7a5 \ud558\ub294 \uacbd\uc6b0 \uc778\uc2a4\ud134\uc2a4\uc758 \ucd5c\ub300 \uac2f\uc218 EBS-snapshot snap-0cbb59dd32bab1541 OS \uc124\uce58\uc5d0 \ud544\uc694\ud55c EBS \ubcfc\ub968 \uc2a4\ub0c5\uc0f7 EBS Size 12 GB EBS \ubcfc\ub968 \ud06c\uae30 Volum Type gp2 SSD, HDD \ub4f1\uc758 \ub514\uc2a4\ud06c \uc561\uc138\uc2a4 \ud0c0\uc785 \uc885\ub8cc\uc2dc \uc0ad\uc81c Yes \uc624\ud1a0\uc2a4\ucf00\uc77c\uc758 \uacbd\uc6b0 \uc790\ub3d9 \ucd95\uc18c\ub41c \uc778\uc2a4\ud134\uc2a4\uc5d0 \ub300\ud574 \uc885\ub8cc \ud558\ub294 \uc815\ucc45\uc774 \uae30\ubcf8 \uac12 user-data 300 health check\ub97c \uc704\ud55c api \uad6c\ub3d9 \ub4f1 \uc0ac\uc6a9\uc790 \uc815\uc758 \uc258 \uc2a4\ud06c\ub9bd\ud2b8 \uc2e4\ud589\uc2dc \uae30\uc785","title":"\uc2dc\uc791 \ud15c\ud50c\ub9bf"},{"location":"iac/infra-02/#code-deploy","text":"AWS Code-Deploy\ub97c \ud1b5\ud574 Blue/Green \ubc30\ud3ec\ub97c \uad6c\uc131 \ud569\ub2c8\ub2e4. \uc8fc\uc694 \uc18d\uc131 \uc124\uc815 \uac12 \uc608\uc2dc \uc124\uba85 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 my-app-code-deploy my-app \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uc744 Blue/Green \ubc30\ud3ec\ub97c \ud569\ub2c8\ub2e4. \ud50c\ub7ab\ud3fc EC2/\uc628\ud504\ub808\ubbf8\uc2a4 \ubc30\ud3ec \ub300\uc0c1\uc774 EC2 \uc778 \uacbd\uc6b0 \ubc30\ud3ec \uc720\ud615 \ud604\uc7ac \uc704\uce58 \"\ud604\uc7ac \uc704\uce58\"\uc640 \"\ube14\ub8e8 \uadf8\ub9b0\" \ubc30\ud3ec \ub450\uac00\uc9c0 \uc720\ud615\uc744 \uc81c\uacf5 \ud558\uc9c0\ub9cc, \"\ud604\uc7ac \uc704\uce58\" \uc720\ud615\uc744 \ucee4\uc2a4\ud140 \ud558\uc5ec \"\ube14\ub8e8 \uadf8\ub9b0\" \ubc30\ud3ec\ub97c \uad6c\uc131 \ud569\ub2c8\ub2e4. \ubc30\ud3ec \uadf8\ub8f9 group-a, group-b \ubc30\ud3ec \uadf8\ub8f9 \ud558\ub098\ub294\uc740 \uc624\ud1a0 \uc2a4\ucf00\uc77c\ub9c1 \uadf8\ub8f9\uc744 \uc9c0\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. blue \uc640 green\uc5d0 \ud574\ub2f9\ud558\ub294 2\uac1c\uc758 \ubc30\ud3ec \uadf8\ub8f9\uc774 \ud544\uc694 \ud569\ub2c8\ub2e4. \uc624\ud1a0 \uc2a4\ucf00\uc77c \uadf8\ub8f9 my-app-asg-a, my-app-asg-a \ubc30\ud3ec \uadf8\ub8f9\uc774 \uc0ac\uc6a9\ud558\ub294 \uc624\ud1a0 \uc2a4\ucf00\uc77c \uadf8\ub8f9\uc73c\ub85c group-a \ub294 my-app-asg-a \uc73c\ub85c, group-b \ub294 my-app-asg-a \uc744 \uc0ac\uc6a9 \ud558\ub294 \uc608\uac00 \ub429\ub2c8\ub2e4.","title":"Code-Deploy"},{"location":"iac/infra-03/","text":"code-deploy \uad6c\uc131 frontend \ub97c \ubc30\ud3ec\ud560 Code-deploy 1\uac1c\uc758 \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uacfc 2\uac1c\uc758 \uadf8\ub8f9\uc744 \uc0dd\uc131\ud55c\ub2e4. 2\uac1c\uc758 \uadf8\ub8f9\uc740 \ubc30\ud3ec\uc9c4\ud589 \ud560 auto-scaling \uac2f\uc218\uc5d0 \ub9de\ucdb0\uc11c \uc0dd\uc131\ud55c\ub2e4. 1. \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158 \uc0dd\uc131 2. \ubc30\ud3ec \uadf8\ub8f9 \uc0dd\uc131 2-1) \ubc30\ud3ec \uadf8\ub8f9 \uc0dd\uc131 brue green \ubc30\ud3ec\uc2dc \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 2\uac1c\uc758 Auto Scaling\uc744 \uc5f0\uacb0\ud574\uc8fc\ub294 \uadf8\ub8f9\uc744 \uc0dd\uc131\ud55c\ub2e4. 2-2) \ubc30\ud3ec \uadf8\ub8f9 \uc0dd\uc131 \ud655\uc778 (2\uac1c)","title":"CodeDeploy \uad6c\uc131"},{"location":"iac/infra-03/#code-deploy","text":"frontend \ub97c \ubc30\ud3ec\ud560 Code-deploy 1\uac1c\uc758 \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uacfc 2\uac1c\uc758 \uadf8\ub8f9\uc744 \uc0dd\uc131\ud55c\ub2e4. 2\uac1c\uc758 \uadf8\ub8f9\uc740 \ubc30\ud3ec\uc9c4\ud589 \ud560 auto-scaling \uac2f\uc218\uc5d0 \ub9de\ucdb0\uc11c \uc0dd\uc131\ud55c\ub2e4.","title":"code-deploy \uad6c\uc131"},{"location":"iac/infra-03/#1","text":"","title":"1. \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158 \uc0dd\uc131"},{"location":"iac/infra-03/#2","text":"","title":"2. \ubc30\ud3ec \uadf8\ub8f9 \uc0dd\uc131"},{"location":"iac/infra-03/#2-1","text":"brue green \ubc30\ud3ec\uc2dc \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 2\uac1c\uc758 Auto Scaling\uc744 \uc5f0\uacb0\ud574\uc8fc\ub294 \uadf8\ub8f9\uc744 \uc0dd\uc131\ud55c\ub2e4.","title":"2-1) \ubc30\ud3ec \uadf8\ub8f9 \uc0dd\uc131"},{"location":"iac/infra-03/#2-2-2","text":"","title":"2-2) \ubc30\ud3ec \uadf8\ub8f9 \uc0dd\uc131 \ud655\uc778 (2\uac1c)"}]}